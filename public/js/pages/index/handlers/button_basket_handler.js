function bascketHandler(e,t,r){let i=document.querySelector("div.button_basket"),d=document.querySelector(".page-4"),n=d.querySelector("button.b1"),l=d.querySelector("button.b2"),o=d.querySelector("button.b3");i.addEventListener("click",function(t){e.firstChild?d.style.display="grid":alert("Корзина пустая :(")}),n.addEventListener("click",function(e){d.style.display="none",i.classList.remove(r)}),l.addEventListener("click",function(t){removeBasketChildren(e)}),o.addEventListener("click",function(t){let r=document.getElementById("register_order");if(e.firstChild){d.style.display="none",r.style.display="grid";let t=document.querySelector("div.register_order__info div.ro_product_list"),i=e.querySelectorAll("div.product_list__item"),n=document.querySelector(".ro_send_products");removeChildren(t),registerOrderProductsFilling(i,t,n),roFillTotal(e,r)}})}function registerOrderProductsFilling(e,t,r){Array.from(e).forEach(function(e){let i=e.getAttribute("data-id"),d=e.getAttribute("data-weight"),n=e.querySelector("div.elt_name"),l=e.querySelector("div.elt_weight"),o=e.querySelector("div.elt_price"),c=document.createElement("div");c.classList.add("elt_name"),c.appendChild(document.createTextNode(n.textContent));let u=document.createElement("div");u.classList.add("elt_weight"),u.appendChild(document.createTextNode(l.textContent));let a=document.createElement("div");a.classList.add("elt_price"),a.appendChild(document.createTextNode(o.textContent));let s=document.createElement("input");s.setAttribute("type","text"),s.hidden=!0,s.setAttribute("name","order[]"),s.setAttribute("value",`{"id":"${i}","weight":"${d}"}`),r.appendChild(s);let _=document.createElement("div");_.classList.add("ro_product_list__item"),_.appendChild(c),_.appendChild(u),_.appendChild(a),_.setAttribute("data-id",i),_.setAttribute("data-weight",d),t.appendChild(_)})}function roFillTotal(e,t){let r=e.parentElement.querySelector("div.total_price .total_price__item"),i=t.querySelector("div.register_order__info"),d=i.querySelector("span.ro_total_cost__summ"),n=Number(r.textContent);d.textContent=n;let l=i.querySelector("div.ro_delivery_price"),o=l.querySelector(".ro_delivery_price__summ"),c=l.querySelector(".ro_delivery__curr");o.textContent="",c.textContent="",n>=1e3?o.textContent="Бесплатно":(o.textContent=150,d.textContent=n+Number(o.textContent),c.textContent=" руб.")}