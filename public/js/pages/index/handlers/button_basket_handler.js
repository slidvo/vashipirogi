function bascketHandler(e,t,r){let n=document.querySelector("div.button_basket"),d=document.querySelector(".page-4"),o=d.querySelector("button.b1"),i=d.querySelector("button.b2"),l=d.querySelector("button.b3");n.addEventListener("click",function(t){if(e.firstChild){d.style.display="grid";let e=document.querySelector("div.dlCost"),t=document.querySelector("div.dlInfo-2"),r=document.querySelector(".total_price__item");Number(r.textContent)>=1e3?(e.textContent="",e.textContent="0",t.textContent="р."):(e.textContent="",e.textContent="150",t.textContent=" р.")}else alert("Корзина пустая :(")}),o.addEventListener("click",function(e){d.style.display="none";let t=document.querySelectorAll("div.btn_add_text");Array.from(t).forEach(function(e){isSelected(e,"selected")&&(e.classList.remove("selected"),e.textContent="Выбрать")})}),i.addEventListener("click",function(t){removeBasketChildren(e)}),l.addEventListener("click",function(t){let r=document.getElementById("register_order");if(e.firstChild){d.style.display="none",r.style.display="grid";let t=document.querySelector("div.register_order__info div.ro_product_list"),n=e.querySelectorAll("div.product_list__item"),o=document.querySelector(".ro_send_products");removeChildren(t),registerOrderProductsFilling(n,t,o),roFillTotal(e,r)}})}function registerOrderProductsFilling(e,t,r){Array.from(e).forEach(function(e){let n=e.getAttribute("data-id"),d=e.getAttribute("data-weight"),o=e.querySelector("div.elt_name"),i=e.querySelector("div.elt_weight"),l=e.querySelector("div.elt_price"),c=document.createElement("div");c.classList.add("elt_name"),c.appendChild(document.createTextNode(o.textContent));let u=document.createElement("div");u.classList.add("elt_weight"),u.appendChild(document.createTextNode(i.textContent));let a=document.createElement("div");a.classList.add("elt_price"),a.appendChild(document.createTextNode(l.textContent));let s=document.createElement("input");s.setAttribute("type","text"),s.hidden=!0,s.setAttribute("name","order[]"),s.setAttribute("value",`{"id":"${n}","weight":"${d}"}`),r.appendChild(s);let _=document.createElement("div");_.classList.add("ro_product_list__item"),_.appendChild(c),_.appendChild(u),_.appendChild(a),_.setAttribute("data-id",n),_.setAttribute("data-weight",d),t.appendChild(_)})}function roFillTotal(e,t){let r=e.parentElement.querySelector("div.total_price .total_price__item"),n=t.querySelector("div.register_order__info"),d=n.querySelector("span.ro_total_cost__summ"),o=Number(r.textContent);d.textContent=o;let i=n.querySelector("div.ro_delivery_price"),l=i.querySelector(".ro_delivery_price__summ"),c=i.querySelector(".ro_delivery__curr");l.textContent="",c.textContent="",o>=1e3?l.textContent="Бесплатно":(l.textContent=150,d.textContent=o+Number(l.textContent),c.textContent=" руб.")}